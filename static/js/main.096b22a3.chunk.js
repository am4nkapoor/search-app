(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{18:function(e,a,t){e.exports=t.p+"static/media/loader.de50e2e9.gif"},19:function(e,a,t){e.exports=t(44)},24:function(e,a,t){},25:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},26:function(e,a,t){},44:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(17),c=t.n(r),l=(t(24),t(2)),i=t(3),o=t(6),m=t(5),u=(t(25),t(26),t(4)),h=t(7),d=t.n(h),g=t(18),p=t.n(g),f=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(l.a)(this,t),(n=a.call(this,e)).fetchSearchResults=function(e){n.cancel&&n.cancel.cancel(),n.cancel=d.a.CancelToken.source(),d.a.get("https://api.jikan.moe/v3/search/anime?q=naruto&limit=16",{cancelToken:n.cancel.token}).then((function(e){var a=e.data.results.length?"":"There are no more search results.";n.setState({results:e.data.results,message:a,loading:!1,loadmore:!1})})).catch((function(e){(d.a.isCancel(e)||e)&&n.setState({loading:!1,message:"Failed to fetch the data."})}))},n.handleClick=function(){var e=n.state.query;e&&n.setState({loading:!0,message:""},(function(){n.fetchSearchResults(1,e)}))},n.handleOnInputChange=function(e){var a=e.target.value;a?n.setState({query:a},(function(){})):n.setState({query:a,results:{},message:""})},n.renderSearchResults=function(){var e=n.state.results;if(Object.keys(e).length&&e.length)return s.a.createElement("div",{className:"results-container"},e.slice(0,n.state.visible).map((function(e){return s.a.createElement("a",{key:e.mal_id,href:e.image_url,className:"result-item"},s.a.createElement("h6",{className:"image-username"},e.title),s.a.createElement("div",{className:"image-wrapper"},s.a.createElement("img",{className:"image",src:e.image_url,alt:"".concat(e.title," image")})))})),n.state.loadmore&&e.slice(n.state.visible+1).map((function(e){return s.a.createElement("a",{key:e.mal_id,href:e.image_url,className:"result-item"},s.a.createElement("h6",{className:"image-username"},e.title),s.a.createElement("div",{className:"image-wrapper"},s.a.createElement("img",{className:"image",src:e.image_url,alt:"".concat(e.title," image")})))})))},n.state={query:"",results:[],loading:!1,message:"",search:"",visible:6,loadmore:!1},n.loadMore=n.loadMore.bind(Object(u.a)(n)),n.cancel="",n}return Object(i.a)(t,[{key:"loadMore",value:function(){this.setState({loadmore:!0})}},{key:"render",value:function(){var e=this.state,a=e.query,t=e.loading,n=e.message;return s.a.createElement("div",{className:"container"},s.a.createElement("h2",{className:"heading"},"Assignment Spinny"),s.a.createElement("label",{className:"search-label",htmlFor:"search-input"},s.a.createElement("input",{type:"text",name:"query",value:a,id:"search-input",placeholder:"search for an anime, e.g Naruto",onChange:this.handleOnInputChange}),s.a.createElement("button",{className:"btn",onClick:this.handleClick},"GO")),n&&s.a.createElement("p",{className:"message"},n),s.a.createElement("img",{src:p.a,className:"search-loading ".concat(t?"show":"hide"),alt:"loader"}),this.renderSearchResults(),this.state.results.length>0&&!this.state.loadmore&&s.a.createElement("button",{onClick:this.loadMore,type:"button",className:"load-more"},"Load more"))}}]),t}(s.a.Component),v=function(e){Object(o.a)(t,e);var a=Object(m.a)(t);function t(){return Object(l.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(f,null))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.096b22a3.chunk.js.map